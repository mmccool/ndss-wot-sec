% \textsf{End-to-end secure adaptation by pushing payload transformation to endpoints.}
In a typical multistandard IoT system,
bridges may be needed to connect devices
conforming to different standards.
For example,
to connect to an AllJoyn device from a controller
designed to connect to OCF devices, an OCF-to-AllJoyn bridge
may be needed to translate both the protocol and the payload.
In general, multiple bridges could be involved: the
apparent AllJoyn device could in fact be a oneM2M device
being made available over yet another bridge.

Unfortunately bridges introduce a potential security vulnerability.
If the bridge devices can be compromised,
an attacker can have full access to the
data being carried to and from the device can can stage a 
variety of attacks: 
modifying or deleting data,
injecting false data and events,
or privacy invasion.

The WoT enables a way around this problem using endpoint 
end-to-end payload adaption.
This is complementary to but distinct from object security~\cite{Mattsson2014}.

Rather than adapting payloads in a point-to-point fashion,
adaptation should take place at one of the endpoints, ideally the
one with greater capability.  The endpoint doing the adaptation should
look at the metadata for the target endpoint, adapt its payload for that
target, and then use end-to-end encrypted communication:
either end-to-end transport security, object security, or both.

However, if multiple transport protocols are used, such as a 
combination of HTTP/TLS and CoAP/DTLS, bridging those protocols
may create another compromise possibility.  A mechanism supporting
object security such as JOSE~\cite{Jose2014} should then be used
in combination with endpoint adaptation, but of course for this to
work the target (typically constrained) endpoint needs to support it. 
Object security also supports secure state caching in the cloud or gateways,
an important consideration for devices that may need a digital
twin to handle transactions for them while they are in standby,
conserving battery, or otherwise offline.

